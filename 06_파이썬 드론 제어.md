# PC에서 파이썬 코드로 AIDrone 비행

## 1. USB 케이블로 조종기를 PC에 연결

<br/>    

<img src="https://github.com/irbrain/AIDrone/assets/122161666/e6effc21-2827-4180-9aa8-3b1d017a3179" width="500">

<br/> 

- **연결 포트를 확인하세요.**

<br/><br/>
  
## 2. PC에서 개발 환경 구성 (2가지 방법)
---
### 1) 파이썬 설치

### Windows에서 설치
1. **Python 다운로드**
   - 공식 Python 웹사이트 방문: [https://www.python.org/downloads/](https://www.python.org/downloads/)
   - "Download Python" 버튼을 클릭하여 최신 버전을 다운로드합니다.
   
2. **설치 프로그램 실행**
   - 다운로드한 `.exe` 파일을 실행합니다.
   - **옵션 체크**: `Add Python to PATH`
   - `Install Now` 클릭
   
3. **설치 확인**
   - 명령 프롬프트 (`Win + R`, `cmd` 입력 후 Enter) 실행
   - 다음 명령어 입력:
     ```sh
     python --version
     ```
   - 설치된 Python 버전이 출력되면 정상적으로 설치된 것입니다.

### macOS에서 설치
1. **Python이 이미 설치되어 있는지 확인**
   - 터미널을 열고 다음 명령어 실행:
     ```sh
     python3 --version
     ```
   - 설치되지 않았다면 다음 단계를 진행합니다.

2. **Homebrew를 이용한 Python 설치** (권장)
   - Homebrew가 설치되지 않았다면 다음 명령어 실행:
     ```sh
     /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
     ```
   - Python 설치:
     ```sh
     brew install python
     ```

3. **설치 확인**
   - 다음 명령어 실행:
     ```sh
     python3 --version
     ```

### Linux에서 설치
1. **Python이 이미 설치되어 있는지 확인**
   - 다음 명령어 실행:
     ```sh
     python3 --version
     ```
   
2. **Debian/Ubuntu에서 Python 설치**
   - 다음 명령어 실행:
     ```sh
     sudo apt update
     sudo apt install python3 python3-pip
     ```
   
3. **CentOS/RHEL에서 Python 설치**
   - 다음 명령어 실행:
     ```sh
     sudo yum install python3
     ```
   
4. **설치 확인**
   - 다음 명령어 실행:
     ```sh
     python3 --version
     ```

## 2. Python 사용하기

### 터미널에서 Python 실행
- 터미널 또는 명령 프롬프트를 엽니다.
- 다음 명령어 입력:
  ```sh
  python
  ```
- Python 인터프리터 (`>>>`)가 표시됩니다.
- 종료하려면 다음 명령어 입력:
  ```sh
  exit()
  ```

### Python 스크립트 실행
1. `hello.py` 파일 생성 후 다음 코드 작성:
   ```python
   print("Hello, World!")
   ```
2. 파일을 저장한 후 다음 명령어로 실행:
   ```sh
   python hello.py  # 또는 python3 hello.py
   ```

## 3. Python 패키지 설치
- `pip`를 사용하여 패키지 설치:
  ```sh
  pip install 패키지이름
  ```
- 예제:
  ```sh
  pip install numpy
  ```
- 설치된 패키지 목록 확인:
  ```sh
  pip list
  ```
- 패키지 업데이트:
  ```sh
  pip install --upgrade 패키지이름
  ```

## 4. 가상 환경 사용하기
- 가상 환경 생성:
  ```sh
  python -m venv myenv
  ```
- 가상 환경 활성화:
  - Windows:
    ```sh
    myenv\Scripts\activate
    ```
  - macOS/Linux:
    ```sh
    source myenv/bin/activate
    ```
- 가상 환경 비활성화:
  ```sh
  deactivate
  ```

## 5. 간단한 Python 프로그램 작성 및 실행
1. `example.py` 파일을 만들고 다음 코드 작성:
   ```python
   name = input("이름을 입력하세요: ")
   print(f"안녕하세요, {name}!")
   ```
2. 다음 명령어로 실행:
   ```sh
   python example.py
   ```

## 6. 추가 학습 자료
- 공식 Python 문서: [https://docs.python.org/3/](https://docs.python.org/3/)
- Python 패키지 인덱스(PyPI): [https://pypi.org/](https://pypi.org/)
- 온라인 Python 학습: [https://realpython.com/](https://realpython.com/)



#### 1) 아나콘다 설치 (https://www.anaconda.com)
    
#### 2) 관리자 권한으로 아나콘다 프롬프트 실행.

<br/>

![image](https://user-images.githubusercontent.com/122161666/223847583-ee36b5aa-ec12-4583-9f48-5703e987ab20.png)  

<br/>

#### 3) 아나콘다 프롬프트에서 파이썬 가상 환경 생성
    
       conda create -n aidrone python=[version]

<br/>

#### 4) 아나콘다 프롬프트에서 AIDrone 파이썬 라이브러리 설치
     
       pip install pyaidrone

<br/>

#### 5) 비주얼 스튜디오 코드 설치 (https://code.visualstudio.com)  

<br/>

#### 6) 비주얼 스튜디오 코드에서 프로그래밍 시작

<br/>
 
## 4. Visual Studio Code 에서  예제 테스트 

#### 1) each motor contorl for 2 seconds

       from time import sleep
       from pyaidrone.aiDrone import *
       
       if __name__ == '__main__':    
       
            aidrone = AIDrone()
            aidrone.Open("COM3")
            aidrone.setOption(0)
            sleep(0.5)
            
            aidrone.motor(0, 10)
            sleep(2)
            aidrone.motor(1, 20)
            sleep(2)
            aidrone.motor(2, 20)
            sleep(2)
            aidrone.motor(3, 20)
            sleep(2)
            aidrone.Close()

<br/>

#### 2) AIDrone, 특정 거리 비행하기

       from time import sleep
       from pyaidrone.aiDrone import *
       from pyaidrone.deflib import *
       
       ready = -1
       
       def receiveData(packet):
            global ready
            ready = packet[7] & 0x03
            
       if __name__ = '__main__':
       
            aidrone = AIDrone(recevieData)
            aidrone.Open("COM3")   # change to the your ports number
            aidrone.setOption(0)
            sleep(0.5)
            
            while ready != 0:
                  sleep(0.1)
                  
            aidrone.takeoff()
            sleep(5)
            aidrone.move(FRONT, 200)    # 200 means 2m
            sleep(5)
            aidrone.move(BACK, 200) 
            sleep(5)
            aidrone.landing()
            sleep(3)
            aidrone.Close()

<br/>

#### 3) AIDrone 회전 

       from time import sleep
       from pyaidrone.aiDrone import *
       from pyaidrone.deflib import *
       
       ready = -1
       
       def receiveData(packet):
            global ready
            ready = packet[7] & 0x03
            
       if __name__ = '__main__':
       
            aidrone = AIDrone(recevieData)
            aidrone.Open("COM3")   # change to the your ports number
            aidrone.setOption(0)
            sleep(0.5)
            
            while ready != 0:
                  sleep(0.1)
                  
            aidrone.takeoff()
            sleep(5)
            aidrone.rotation(90)    # Turn to the right about 90 degree
            sleep(5)
            aidrone.rotation(-90) 
            sleep(5)
            aidrone.landing()
            sleep(3)
            aidrone.Close()

<br/>

 #### 4) AIDrone 상승 및 하강 

       from time import sleep
       from pyaidrone.aiDrone import *
       from pyaidrone.deflib import *
       
       ready = -1
       
       def receiveData(packet):
            global ready
            ready = packet[7] & 0x03
            
       if __name__ = '__main__':
       
            aidrone = AIDrone(recevieData)
            aidrone.Open("COM3")   # change to the your ports number
            aidrone.setOption(0)
            sleep(0.5)
            
            while ready != 0:
                  sleep(0.1)
                  
            aidrone.takeoff()
            sleep(5)
            aidrone.altitude(150)    # up to the 1.5m. basic altitude is 70cm
            sleep(5)
            aidrone.altitude(50) 
            sleep(5)
            aidrone.altitude(100)
            sleep(8)
            aidrone.landing()
            sleep(3)
            aidrone.Close()

<br/>

 #### 5) 비행 속도 변경 

       from time import sleep
       from pyaidrone.aiDrone import *
       from pyaidrone.deflib import *
       
       ready = -1
       
       def receiveData(packet):
            global ready
            ready = packet[7] & 0x03
            
       if __name__ = '__main__':
       
            aidrone = AIDrone(recevieData)
            aidrone.Open("COM3")   # change to the your ports number
            aidrone.setOption(0)
            sleep(0.5)
            
            while ready != 0:
                  sleep(0.1)
                  
            aidrone.takeoff()
            sleep(5)
            aidrone.velocity(FRONT, 100)   
            sleep(2)
            aidrone.velocity(FRONT, 0) 
            sleep(5)
            aidrone.velocity(BACK, 100)
            sleep(2)
            aidrone.velocity(BACK, 0)
            sleep(5)
            aidrone.landing()
            sleep(5)
            aidrone.Close()

<br/>

 #### 6) 방향 키보드로 AIDrone 원격 제어 
 
      from time import sleep
      from pyaidrone.aiDrone import *
      from pyaidrone.deflib import *
      from pyaidrone.ikeyevent import *

      Height = 70
      Degree = 0

      if __name__ == '__main__':
            aidrone = AIDrone()
            ikey = IKeyEvent()
            aidrone.Open("COM3")
            aidrone.setOption(0)
            sleep(0.5)

             while not ikey.isKeyEscPressed():        
        
            if ikey.isKeyEnterPressed():             
                  aidrone.takeoff()

            if ikey.isKeySpacePressed():
                  aidrone.landing()
      
            if ikey.isKeyUpPressed():
                  aidrone.velocity(FRONT, 100)
            elif ikey.isKeyDownPressed():
                  aidrone.velocity(BACK, 100)
            else:
                  aidrone.velocity(FRONT, 0)

            if ikey.isKeyRightPressed():
                  aidrone.velocity(RIGHT, 100)
            elif ikey.isKeyLeftPressed():
                  aidrone.velocity(LEFT, 100)
            else:
                  aidrone.velocity(RIGHT, 0) 
        
            if ikey.isKeyWPressed():
                  Height = Height + 10
                  aidrone.altitude(Height)
            elif ikey.isKeyXPressed():
                  Height = Height - 10
                  aidrone.altitude(Height)

             if ikey.isKeyDPressed():
                  Degree = Degree + 10
                  aidrone.rotation(Degree)            
            elif ikey.isKeyAPressed():
                  Degree = Degree +10
                  aidrone.rotation(-Degree)            

            sleep(0.1)
      aidrone.Close()
